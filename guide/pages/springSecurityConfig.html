<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4.1 Integration with Spring Security 0.6.4</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/screenshots.html"><strong>2</strong><span>Screenshots</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/structure.html"><strong>3</strong><span>Plugin Structure</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>4</strong><span>Plugin Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/widgets.html"><strong>5</strong><span>Widgets</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/customWidgets.html"><strong>6</strong><span>Custom Widgets. Guide to Widget developers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/contributing.html"><strong>7</strong><span>Contributing. Guide to Plugin developers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/roadmap.html"><strong>8</strong><span>Roadmap</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/faq.html"><strong>9</strong><span>FAQ</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>
    Grails Admin allows you to easily create an administration back-office with default styles and
    operations. You cand extend and configure this administrator to improve the experience of your
    users.

    The default admin also provides an API to ease the integration with already existing
    administration back-offices and integration with Spring Security (version 1 and 2) to use the
    security behaviour of your application.

    This is a similar project to those existing in others MVC frameworks such as Django Admin,
    Sonata Admin or Rails Active Admin.
    </p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/structure.html">&lt;&lt; <strong>3</strong><span>Plugin Structure</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/widgets.html"><strong>5</strong><span>Widgets</span> >></a></div>
                


                <div class="project">
                    <h1>4.1 Integration with Spring Security - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Kaleidos Open Source</p>

                    <p><strong>Version:</strong> 0.6.4</p>

                    
                </div>

                

                

<h2 id="springSecurityConfig">4.1 Integration with Spring Security</h2>
<h4>Static assets filters</h4><p class="paragraph"/>Spring security by default doesn't allow the static resources from the plugin to be served.<p class="paragraph"/>You should add the following rules to your Config.groovy in order to allow these:<p class="paragraph"/><div class="code"><pre>grails.plugin.springsecurity.controllerAnnotations.staticRules = &#91;
    '/&#42;&#42;/libs/&#42;&#42;':                    &#91;'permitAll'&#93;,
    '/&#42;&#42;/js/&#42;&#42;':                      &#91;'permitAll'&#93;,
    '/&#42;&#42;/css/&#42;&#42;':                     &#91;'permitAll'&#93;,
    '/&#42;&#42;/images/&#42;&#42;':                  &#91;'permitAll'&#93;
&#93;</pre></div><p class="paragraph"/><h4>API Basic Authentication</h4><p class="paragraph"/>In order to use Basic Authentication for the Grails Admin API you have to configure the following parameters for Spring Security:
<ul class="star">
<li>Activate Spring security:</li>
</ul><p class="paragraph"/><div class="code"><pre>grails.plugin.springsecurity.active = <span class="java&#45;keyword">true</span></pre></div>
<ul class="star">
<li>Activate the Basi Authorization filter</li>
</ul><p class="paragraph"/><div class="code"><pre>grails.plugin.springsecurity.useBasicAuth = <span class="java&#45;keyword">true</span></pre></div>
<ul class="star">
<li>Only apply the filter for the admin API endpoints:</li>
</ul><p class="paragraph"/><blockquote class="note">
Be careful because "admin" could be replaced with the property "grails.plugin.admin.accessRoot"
</blockquote><p class="paragraph"/><div class="code"><pre>grails.plugin.springsecurity.filterChain.chainMap = &#91;
   <span class="java&#45;quote">"/admin/api/&#42;&#42;"</span>: 'JOINED_FILTERS,&#45;exceptionTranslationFilter',
   '/&#42;&#42;': 'JOINED_FILTERS,&#45;basicAuthenticationFilter,&#45;basicExceptionTranslationFilter'
&#93;</pre></div><p class="paragraph"/>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/structure.html">&lt;&lt; <strong>3</strong><span>Plugin Structure</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/widgets.html"><strong>5</strong><span>Widgets</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
