<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Grails Admin 0.1</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#structure"><strong>2</strong><span>Plugin Structure</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#configuration"><strong>3</strong><span>Plugin Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#tutorial"><strong>4</strong><span>Tutorial</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#widgets"><strong>5</strong><span>Widgets</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#roadmap"><strong>6</strong><span>Roadmap</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#faq"><strong>7</strong><span>FAQ</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Administration backoffice for Grails applications</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Grails Admin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Kaleidos Open Source</p>
                            <p><strong>Version:</strong> 0.1</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#versions"><strong>1.1</strong><span>Release history and changelog</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#contributors"><strong>1.2</strong><span>Contributors</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#dependencies"><strong>1.3</strong><span>Dependencies</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#installation"><strong>1.4</strong><span>Installation</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#structure"><strong>2</strong><span>Plugin Structure</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#configuration"><strong>3</strong><span>Plugin Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#globalConfig"><strong>3.1</strong><span>Global Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#domainConfig"><strong>3.2</strong><span>Per Domain Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#tutorial"><strong>4</strong><span>Tutorial</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#widgets"><strong>5</strong><span>Widgets</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#configureWidgets"><strong>5.1</strong><span>Configure widgets</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#stylingWidgets"><strong>5.2</strong><span>Styling widget instances</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#builtInWidgets"><strong>5.3</strong><span>Built in widgets</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#checkboxInputWidget"><strong>5.3.1</strong><span>CheckboxInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#dateInputWidget"><strong>5.3.2</strong><span>DateInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#dateTimeInputWidget"><strong>5.3.3</strong><span>DateTimeInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#emailInputWidget"><strong>5.3.4</strong><span>EmailInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#hiddenInputWidget"><strong>5.3.5</strong><span>HiddenInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#labelWidget"><strong>5.3.6</strong><span>LabelWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#numberInputWidget"><strong>5.3.7</strong><span>NumberInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#passwordInputWidget"><strong>5.3.8</strong><span>PasswordInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#selectMultipleWidget"><strong>5.3.9</strong><span>SelectMultipleWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#selectWidget"><strong>5.3.10</strong><span>SelectWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#textAreaWidget"><strong>5.3.11</strong><span>TextAreaWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#textInputWidget"><strong>5.3.12</strong><span>TextInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#timeInputWidget"><strong>5.3.13</strong><span>TimeInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#urlInputWidget"><strong>5.3.14</strong><span>UrlInputWidget</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#customWidgets"><strong>5.4</strong><span>Custom widgets</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#roadmap"><strong>6</strong><span>Roadmap</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#faq"><strong>7</strong><span>FAQ</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction</h1>
The Grails Admin plugin provides and easy and secure backend to administer out-of-the-box your Grails applications.
Absolute functional from scratch, gives much more power with his extensible widget system.



<h2 id="versions">1.1 Release history and changelog</h2>
<ul class="star">
<li>9th May 2014</li>
<ul class="star">
<li>0.1: First internal release</li>
</ul>
<li>23rd May 2014</li>
<ul class="star">
<li>0.6: First ready for world testing release</li>
</ul></ul><p class="paragraph"/>


<h2 id="contributors">1.2 Contributors</h2>
<ul class="star">
<li><a href="http://kaleidos.net/708090/" target="blank">Pablo Alba</a></li>
<li><a href="http://kaleidos.net/40826D/" target="blank">Juanfran Alcantara</a></li>
<li><a href="http://kaleidos.net/67CF00/" target="blank">Antonio de la Torre</a></li>
<li><a href="http://kaleidos.net/71A6D2/" target="blank">Daniel Herrero</a></li>
<li><a href="http://kaleidos.net/FFFF00/" target="blank">Alonso Torres</a></li>
</ul><p class="paragraph"/>


<h2 id="dependencies">1.3 Dependencies</h2>
This plugin doesn't import any plugin but needs that your application have installed the following dependencies:
<ul class="star">
<li>Spring Security Core v1.X or v2.X for authorization/authentication:</li>
</ul><p class="paragraph"/><a href="http://grails-plugins.github.io/grails-spring-security-core/docs/manual/guide/newInV2.html" target="blank">Spring Security Core 2.x</a><p class="paragraph"/>


<h2 id="installation">1.4 Installation</h2>
To install you should include in your BuildConfig.groovy<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime <span class="java&#45;quote">"&#58;admin&#58;0.1"</span><p class="paragraph"/>    // Remember, there are some plugin dependencies
    // Spring Security v1.X , example:
    compile <span class="java&#45;quote">"&#58;spring&#45;security&#45;core&#58;1.2.7.3"</span>
    // &#8230; or v2.X , example:
    compile <span class="java&#45;quote">"&#58;spring&#45;security&#45;core&#58;2.0&#45;RC3"</span>
&#125;</pre></div><p class="paragraph"/>and edit your app <code>Config.groovy</code> and include the list of domains to start working with:<p class="paragraph"/>Example:
<div class="code"><pre>grails.plugin.admin.role = &#91; <span class="java&#45;quote">"net.kaleidos.TestDomain"</span>, <span class="java&#45;quote">"net.kaleidos.AnotherDomain"</span> &#93;</pre></div>



<h1 id="structure">2 Plugin Structure</h1>
The Grails plugin integrates seamlessly with your application<p class="paragraph"/><img border="0" class="center" src="../img/GrailsAdminPluginOverview.png"></img>



<h1 id="configuration">3 Plugin Configuration</h1>
The power of the grails admin plugin is that you can create a full-fleshed grails administration page
only by configuration.<p class="paragraph"/>In order to be flexible enough the plugin provides several configuration for tunning your application.<p class="paragraph"/>You have to include the following properties in your <code>Config.groovy</code> file.<p class="paragraph"/>Your <code>Config.groovy</code> would look like this:
<div class="code"><pre>// mandatory
grails.plugin.admin.access_root = <span class="java&#45;quote">"/myconfadmin"</span><p class="paragraph"/>// optional
grails.plugin.admin.domains = &#91;
    <span class="java&#45;quote">"net.kaleidos.conferences.Room"</span>,
    <span class="java&#45;quote">"net.kaleidos.conferences.Attendee"</span>,
    <span class="java&#45;quote">"net.kaleidos.conferences.Conference"</span>,
    <span class="java&#45;quote">"net.kaleidos.conferences.Talk"</span>,
    <span class="java&#45;quote">"net.kaleidos.conferences.Speaker"</span>
&#93;<p class="paragraph"/>// optional
grails.plugin.admin.domain.Conference = <span class="java&#45;quote">"net.kaleidos.conferences.ConferenceAdmin"</span></pre></div>



<h2 id="globalConfig">3.1 Global Configuration</h2>
<h4>Domains List</h4><p class="paragraph"/> <em class="italic"><strong class="bold">Necessary</strong></em> <p class="paragraph"/>You have to explicitely set the domains that your application is going to manage.<p class="paragraph"/>The property is a list of strings containing the full class name of your domains<p class="paragraph"/>By default it contains an empty list.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.role = &#91; <span class="java&#45;quote">"net.kaleidos.TestDomain"</span>, <span class="java&#45;quote">"net.kaleidos.AnotherDomain"</span> &#93;</pre></div><p class="paragraph"/><h4>Admin access root</h4><p class="paragraph"/> <em class="italic">Optional</em> <p class="paragraph"/>A good security practice is not to use a "standard" URI to access your administration backend.<p class="paragraph"/>Grails-Admin allows you to customize the endpoint so it uses a custom one.<p class="paragraph"/>By default the value is /admin<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.access_root = <span class="java&#45;quote">"/admin"</span></pre></div><p class="paragraph"/><h4>Security access role</h4><p class="paragraph"/> <em class="italic">Optional</em> <p class="paragraph"/>The default role required for a user to access the admin is "ROLE_ADMIN" but you can customize
to use any role defined with your application.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.role = <span class="java&#45;quote">"ROLE_ADMIN"</span></pre></div><p class="paragraph"/>



<h2 id="domainConfig">3.2 Per Domain Configuration</h2>
You can configure the administration screens with a specific DSL that can be configure either in your
Config.groovy or in classes of type "Admin" that also allows the redefinition of some methods.<p class="paragraph"/><h3>Configuration on Config.groovy file</h3><p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    create includes: &#91;<span class="java&#45;quote">"name"</span>, <span class="java&#45;quote">"description"</span>, <span class="java&#45;quote">"dateCreated"</span>, <span class="java&#45;quote">"endDate"</span>&#93;,
    widget <span class="java&#45;quote">"address"</span>, <span class="java&#45;quote">"net.kaleidos.test.MyTestWidget"</span>, width: 500, height: 100
&#125;</pre></div><p class="paragraph"/><h3>Configuration on "Admin" entities</h3><p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> test<p class="paragraph"/>class TestAdmin &#123;
    <span class="java&#45;keyword">static</span> options = &#123;
        create includes: &#91;<span class="java&#45;quote">"name"</span>, <span class="java&#45;quote">"description"</span>, <span class="java&#45;quote">"dateCreated"</span>, <span class="java&#45;quote">"endDate"</span>&#93;,
        widget <span class="java&#45;quote">"address"</span>, <span class="java&#45;quote">"net.kaleidos.test.MyTestWidget"</span>, width: 500, height: 100
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>Then you should associate your admin class with the domain entity that manage.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = <span class="java&#45;quote">"test.TestAdmin"</span></pre></div><p class="paragraph"/><h4>Include properties</h4><p class="paragraph"/>You can select which properties the administration will display on a specific operation.<p class="paragraph"/>The order will be preserved in the form.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    list includes: &#91;<span class="java&#45;quote">"name"</span>, <span class="java&#45;quote">"description"</span>, <span class="java&#45;quote">"dateCreated"</span>, <span class="java&#45;quote">"endDate"</span>&#93;
    create includes: &#91;<span class="java&#45;quote">"name"</span>, <span class="java&#45;quote">"description"</span>&#93;
    edit includes: &#91;<span class="java&#45;quote">"name"</span>, <span class="java&#45;quote">"description"</span>&#93;
&#125;</pre></div><p class="paragraph"/>
<h4>Exclude Properties</h4><p class="paragraph"/>You can customize which properties will be excluded from the administration screens.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    list excludes: &#91;<span class="java&#45;quote">"startDate"</span>, <span class="java&#45;quote">"endDate"</span>&#93;
    create excludes: &#91;<span class="java&#45;quote">"startDate"</span>, <span class="java&#45;quote">"endDate"</span>&#93;
    edit excludes: &#91;<span class="java&#45;quote">"startDate"</span>, <span class="java&#45;quote">"endDate"</span>&#93;
&#125;</pre></div><p class="paragraph"/><h4>Custom widgets</h4><p class="paragraph"/>For some properties the default editor/renderer may not be enough. You can customize this behaviour writing your own widget.
Further documentation on the widgets sections.<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    widget <span class="java&#45;quote">"address"</span>, <span class="java&#45;quote">"net.kaleidos.test.MyTestWidget"</span>, width: 500, height: 100
&#125;</pre></div><p class="paragraph"/>


<h1 id="tutorial">4 Tutorial</h1>
Steps
<ol>
<li>Install plugin</li>
<li>Config plugin in <code>Config.groovy</code></li>
<li>Extend plugin with a new widget</li>
</ol><p class="paragraph"/>


<h1 id="widgets">5 Widgets</h1>
A widget is a component of Grails Admin that represents a property from a domain object instance. The widget handles the rendering (HTML or JSON) for that property, and also transform the values received for that property into the correct type (for example, translate from String to Date as needed).
The plugin provides a set of built in widgets that should cover the majority of situations. To render other types or to display other type of data in a different way, you can create your own custom widgets.<p class="paragraph"/>


<h2 id="configureWidgets">5.1 Configure widgets</h2>
Grails Admin Plugin comes with a set of built-in plugins but you can specify your own custom widget for a specific domain class and property in your app <code>Config.groovy</code><p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    widget <span class="java&#45;quote">"address"</span>, <span class="java&#45;quote">"net.kaleidos.test.MyTestWidget"</span>, width: 500, height: 100
&#125;</pre></div><p class="paragraph"/>


<h2 id="stylingWidgets">5.2 Styling widget instances</h2>
stylingWidgets



<h2 id="builtInWidgets">5.3 Built in widgets</h2>
The built-in widgets are associated with types and sometimes modified by constraints:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Type</strong></th><th><strong class="bold">Constraint</strong></th><th><strong class="bold">Widget</strong></th></tr><tr class="table-odd"><td>&#160;</td><td><code>inList</code></td><td><code>SelectWidget</code></td></tr><tr class="table-even"><td><code>Byte</code></td><td>&#160;</td><td><code>NumberInputWidget</code></td></tr><tr class="table-odd"><td><code>Short</code></td></tr><tr class="table-even"><td><code>Integer</code></td></tr><tr class="table-odd"><td><code>Long</code></td></tr><tr class="table-even"><td><code>Float</code></td><td>&#160;</td><td><code>DecimalInputWidget</code></td></tr><tr class="table-odd"><td><code>Double</code></td></tr><tr class="table-even"><td><code>Character</code></td><td>&#160;</td><td><code>TextInputWidget</code></td></tr><tr class="table-odd"><td><code>String</code></td><td>&#160;</td><td><code>TextInputWidget</code></td></tr><tr class="table-even"><td>&#160;</td><td><code>email</code></td><td><code>EmailInputWidget</code></td></tr><tr class="table-odd"><td>&#160;</td><td><code>url</code></td><td><code>UrlInputWidget</code></td></tr><tr class="table-even"><td><code>Date</code></td><td>&#160;</td><td><code>DateInputWidget</code></td></tr><tr class="table-odd"><td><code>Boolean</code></td><td>&#160;</td><td><code>CheckboxInputWidget</code></td></tr><tr class="table-even"><td><code>Enum</code></td><td>&#160;</td><td><code>EnumWidget</code></td></tr><tr class="table-odd"><td><code>File</code></td><td>&#160;</td><td><code>LabelWidget</code></td></tr><tr class="table-even"><td><code>Collection</code></td><td>&#160;</td><td><code>RelationTableWidget</code> or <code>LabelWidget</code></td></tr><tr class="table-odd"><td>&#60;Other Domain Class&#62;</td><td>&#160;</td><td><code>RelationPopupOneWidget</code></td></tr><tr class="table-even"><td> <em class="italic">Unknown</em> </td><td>&#160;</td><td><code>LabelWidget</code></td></tr></table><p class="paragraph"/><code>LabelWidget</code> is a special widget used when we don't know how to handle a type or his value, like <code>File</code> or <code>Collection</code> types



<h2 id="checkboxInputWidget">5.3.1 CheckboxInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input type=<span class="java&#45;quote">"checkbox"</span> checked=<span class="java&#45;quote">"checked"</span> name=<span class="java&#45;quote">"test"</span>&#62;&#60;/input&#62;</pre></div>



<h2 id="dateInputWidget">5.3.2 DateInputWidget</h2>
<strong class="bold">Internal attributes</strong>
<ul class="star">
<li>dateFormat: You can specify the date format for this widget (See documentation for <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html" target="blank">SimpleDateFormat</a> for format pattern use)</li>
</ul><p class="paragraph"/>Sample of configuration
<div class="code"><pre>widget <span class="java&#45;quote">"birthDate"</span>, <span class="java&#45;quote">"net.kaleidos.plugins.admin.widget.DateInputWidget"</span>, dateFormat: <span class="java&#45;quote">"yyyyMMdd"</span></pre></div><p class="paragraph"/>Sample of html render
<div class="code"><pre>&#60;input name='test' type='date' value='01/01/2000' /&#62;</pre></div>



<h2 id="dateTimeInputWidget">5.3.3 DateTimeInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='datetime' value='01/01/2000 00:00' /&#62;</pre></div>



<h2 id="emailInputWidget">5.3.4 EmailInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='email' value='example@example.com' /&#62;</pre></div>



<h2 id="hiddenInputWidget">5.3.5 HiddenInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='hidden' value='Some text' /&#62;</pre></div>



<h2 id="labelWidget">5.3.6 LabelWidget</h2>
<div class="code"><pre>&#60;label name=<span class="java&#45;quote">"test"</span>&#62;Some text&#60;/label&#62;</pre></div>



<h2 id="numberInputWidget">5.3.7 NumberInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='number' value='0' /&#62;</pre></div>



<h2 id="passwordInputWidget">5.3.8 PasswordInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='password' value='abc12345' /&#62;</pre></div>



<h2 id="selectMultipleWidget">5.3.9 SelectMultipleWidget</h2>
Sample of html render
<div class="code"><pre>&#60;select multiple name=<span class="java&#45;quote">"test"</span>&#62;
    &#60;option value=<span class="java&#45;quote">"Volvo"</span>&#62;Volvo&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Saab"</span> selected=<span class="java&#45;quote">"selected"</span>&#62;Saab&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Opel"</span>&#62;Opel&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Audi"</span> selected=<span class="java&#45;quote">"selected"</span>&#62;Audi&#60;/option&#62;
&#60;/select&#62;</pre></div>



<h2 id="selectWidget">5.3.10 SelectWidget</h2>
Sample of html render
<div class="code"><pre>&#60;select name=<span class="java&#45;quote">"test"</span>&#62;
    &#60;option value=<span class="java&#45;quote">""</span>&#62;&#45;&#45;&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Volvo"</span>&#62;Volvo&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Saab"</span> selected=<span class="java&#45;quote">"selected"</span>&#62;Saab&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Opel"</span>&#62;Opel&#60;/option&#62;
    &#60;option value=<span class="java&#45;quote">"Audi"</span>&#62;Audi&#60;/option&#62;
&#60;/select&#62;</pre></div>



<h2 id="textAreaWidget">5.3.11 TextAreaWidget</h2>
<div class="code"><pre>&#60;textarea name='test'&#62;Some text&#60;/textarea&#62;</pre></div>



<h2 id="textInputWidget">5.3.12 TextInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='text' value='Some text' /&#62;</pre></div>



<h2 id="timeInputWidget">5.3.13 TimeInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='time' value='12:00' /&#62;</pre></div>



<h2 id="urlInputWidget">5.3.14 UrlInputWidget</h2>
Sample of html render
<div class="code"><pre>&#60;input name='test' type='url' value='http://grails.org' /&#62;</pre></div>



<h2 id="customWidgets">5.4 Custom widgets</h2>
Besides the built in widgets, you can create your own custom widgets.<p class="paragraph"/>Edit your app <code>Config.groovy</code> and add this line for a domain class and property, where you define the custom widget class and some properties to configure.<p class="paragraph"/>Example:<p class="paragraph"/><div class="code"><pre>grails.plugin.admin.domain.Test = &#123;
    widget <span class="java&#45;quote">"address"</span>, <span class="java&#45;quote">"net.kaleidos.test.MyTestWidget"</span>, width: 500, height: 100
&#125;</pre></div><p class="paragraph"/>In this example we configure for domain class <code>Test</code> and property <code>address</code> a custom widget call <code>MyTestWidget</code>.
Some properties could be specified and will we copied directly to HTML component.<p class="paragraph"/>
<h2>Groovy side</h2><p class="paragraph"/><h3>Inherit from Widget</h3><p class="paragraph"/>Your custom widget should inherit from the class net.kaleidos.plugins.admin.widget.Widget. That is an abstract class, that has only one methods that you must implement:
<ul class="star">
<li>String render(): The method to render your widget as html</li>
</ul><p class="paragraph"/>Also, Widget define sever methods that you can overwrite if yo need them
<ul class="star">
<li>String renderBeforeForm(): Render code html <strong class="bold">before</strong> the form that contains all the widgets</li>
<li>String renderAfterForm(): Render code html <strong class="bold">after</strong> the form that contains all the widgets</li>
<li>Object getValueForJson(): Returns an object (usually an string) that whould be used in order to represent the current value of the widget when the widget is represented as JSON.</li>
<li>List&#60;String&#62; getAssets(): Returns the list of assets (css and js) needed for the html representation of this widget. GrailsAdminPlugin uses the convention-over-configuration paradigm, so if you don't implement this method, it will try to load one js file and one css file with the same name that the widget.</li>
</ul><p class="paragraph"/>Last, there are several properties that you can use. Note that you don't write this properties, it is GrailsAdminPlugin who assign the values. You should use this properties as read-only.
<ul class="star">
<li>Object value: The current value of the widget. Its type will depend on the actual widget. For example, on a TextInputWidget will be a String, and on a SelectMultipleWidget will be a list.</li>
<li>Map htmlAttrs: A map of properties to be rendered on the html representation, like the name, if it is required, etc.</li>
<li>Map internalAttrs: A map of properties internal for the widget. Remember that the widget represents a property of a domain object, so:</li>
<ul class="star">
<li>domainObject: This is that domain object. Note that it could be null (for example, on the create screen)</li>
<li>propertyName: This is the name of that property.</li>
<li>domainClass: This is the class of that object.</li>
<li>relatedDomainClass: If the property is a relation with another domain class, this is that domain class. It could be null.</li>
</ul></ul><p class="paragraph"/><h3>Sample</h3><p class="paragraph"/>With all this, lets make a sample Widget. We will create a custom widget that show an addres on a map. It will be used for properties of type String.<p class="paragraph"/><strong class="bold">Create the Widget Class</strong><p class="paragraph"/>We will create our widget on the file src/groovy/sample/MapWidget.groovy<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> sample<p class="paragraph"/><span class="java&#45;keyword">import</span> net.kaleidos.plugins.admin.widget.Widget<p class="paragraph"/>class MapWidget <span class="java&#45;keyword">extends</span> Widget &#123;<p class="paragraph"/>    @Override
    <span class="java&#45;object">String</span> render() &#123;
        <span class="java&#45;keyword">return</span> <span class="java&#45;quote">""</span>
    &#125;
&#125;</pre></div><p class="paragraph"/>
<strong class="bold">Create the render method</strong><p class="paragraph"/>We will have the address on the value attribute of the widget.
We want that out widget create an iframe showing the address on the map.<p class="paragraph"/><div class="code"><pre><span class="java&#45;object">String</span> render() &#123;
    def html = <span class="java&#45;keyword">new</span> StringBuilder()
    html.append(<span class="java&#45;quote">"&#60;div&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;iframe width='425' height='350' frameborder='0' scrolling='no' marginheight='0' marginwidth='0'"</span>)
    html.append(<span class="java&#45;quote">"src='https://maps.google.com/maps?f=q&#38;amp;q=$&#123;value&#125;&#38;amp;output=embed'"</span>)
    html.append(<span class="java&#45;quote">"&#62;&#60;/iframe&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/div&#62;"</span>)<p class="paragraph"/>    <span class="java&#45;keyword">return</span> html
&#125;</pre></div><p class="paragraph"/><strong class="bold">Upgrade the render method to allow edition</strong><p class="paragraph"/>The render method is cool, and show the address on a map, but we want also to allow to update the address. In order to do so, we need to add an input field below the map. Also, it is important to render the htmlAttrs, in order to get all the properties needed.
So we must add several lines to the render metod<p class="paragraph"/><div class="code"><pre><span class="java&#45;object">String</span> render() &#123;
    def html = <span class="java&#45;keyword">new</span> StringBuilder()
    html.append(<span class="java&#45;quote">"&#60;div&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;iframe width='425' height='350' frameborder='0' scrolling='no' marginheight='0' marginwidth='0'"</span>)
    html.append(<span class="java&#45;quote">"src='https://maps.google.com/maps?f=q&#38;amp;q=$&#123;value&#125;&#38;amp;output=embed'"</span>)
    html.append(<span class="java&#45;quote">"&#62;&#60;/iframe&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/div&#62;"</span>)<p class="paragraph"/>    html.append(<span class="java&#45;quote">"&#60;input class='form&#45;control' type='text' "</span>)
    htmlAttrs.each&#123;key, value &#45;&#62;
        html.append(<span class="java&#45;quote">"$key='$&#123;value&#125;' "</span>)
    &#125;
    html.append(<span class="java&#45;quote">"value='$&#123;value&#125;' /&#62;"</span>)
    <span class="java&#45;keyword">return</span> html
&#125;</pre></div><p class="paragraph"/>
<blockquote class="note">
When you write html as this example, there is a risk of an <a href="http://en.wikipedia.org/wiki/Cross-site_scripting" target="blank">XSS attack </a> (for example, if the value is something like "&#60;script&#62;alert(0)&#60;/script&#62;). So, instead of write the value directly, you should write it as value.encodeAsHTML(). Also, you should be carefull with the null values. So you can write rhe values as
<div class="code"><pre>$&#123;value?:value.encodeAsHTML():''&#125;</pre></div>
</blockquote><p class="paragraph"/>
<h2>Frontend side</h2><p class="paragraph"/>Most widgets won't need special css nor js. But if you need them, you can use them.
GrailsAdminPlugin uses the convention-over-configuration paradigm, so by default it will try to load one js file and one css file with the same name that the widget. The plugin will search for this files on WEB-APP/js/admin/ and WEB-APP/css/admin/.<p class="paragraph"/>If you need something diferent, you can specify a custom method getAssets on the widget.<p class="paragraph"/>
<h3>Sample</h3><p class="paragraph"/>We will upgrade our MapWidget with a button that refresh the map with the current address. In order to do so, we will use a js and a css file. For the sake of the sample, we wont use the convention, so we need to override the getAssets method of the plugin<p class="paragraph"/><div class="code"><pre>List&#60;<span class="java&#45;object">String</span>&#62; getAssets() &#123;
    &#91; 'js/admin/map.js',
      'css/admin/map.css'
    &#93;
&#125;</pre></div><p class="paragraph"/>
Also, we will modify the render method with the code to show the button, and also with some divs to contain the elements, and several css classes.<p class="paragraph"/><div class="code"><pre><span class="java&#45;object">String</span> render() &#123;
    def html = <span class="java&#45;keyword">new</span> StringBuilder()
    html.append(<span class="java&#45;quote">"&#60;div class='map&#45;widget'&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;div&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;span class='map&#45;container'&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;iframe width='425' height='350' frameborder='0' scrolling='no' marginheight='0' marginwidth='0'"</span>)
    html.append(<span class="java&#45;quote">"src='https://maps.google.com/maps?f=q&#38;amp;q=$&#123;value&#125;&#38;amp;output=embed'"</span>)
    html.append(<span class="java&#45;quote">"&#62;&#60;/iframe&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/span&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;input type='button' class='map&#45;widget&#45;refresh js&#45;map&#45;widget&#45;refresh' value='Refresh' /&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/div&#62;"</span>)<p class="paragraph"/>    html.append(<span class="java&#45;quote">"&#60;div&#62;"</span>)<p class="paragraph"/>    html.append(<span class="java&#45;quote">"&#60;input type='text' class='form&#45;control js&#45;map&#45;widget&#45;text' "</span>)
    htmlAttrs.each&#123;key, value &#45;&#62;
        html.append(<span class="java&#45;quote">"$key='$&#123;value&#125;' "</span>)
    &#125;
    html.append(<span class="java&#45;quote">"value='$&#123;value&#125;' /&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/div&#62;"</span>)
    html.append(<span class="java&#45;quote">"&#60;/div&#62;"</span>)
    <span class="java&#45;keyword">return</span> html
&#125;</pre></div><p class="paragraph"/>
<strong class="bold">CSS</strong><p class="paragraph"/>In order to give the button some style, we created the file WEB-APP/css/admin/map.css<p class="paragraph"/><div class="code"><pre>.map&#45;widget&#45;refresh &#123;
    background&#45;color: &#35;4040EA;
    border: 0 none;
    color: &#35;FFFFFF;
    margin&#45;bottom: 10px;
    margin&#45;left: 15px;
    padding: 5px;
&#125;</pre></div><p class="paragraph"/>
<strong class="bold">JS</strong><p class="paragraph"/>And finally, to refresh the map, we have created the following javascript code on the file WEB-APP/js/admin/map.js<p class="paragraph"/><div class="code"><pre>$(<span class="java&#45;quote">".map&#45;widget"</span>).on( <span class="java&#45;quote">"click"</span>, <span class="java&#45;quote">".js&#45;map&#45;widget&#45;refresh"</span>, function(event) &#123;
    <span class="java&#45;keyword">var</span> value = $(<span class="java&#45;keyword">this</span>).closest(<span class="java&#45;quote">".map&#45;widget"</span>).find(<span class="java&#45;quote">".js&#45;map&#45;widget&#45;text"</span>).val();
    <span class="java&#45;keyword">var</span> html = <span class="java&#45;quote">"&#60;iframe width='425' height='350' frameborder='0' scrolling='no' marginheight='0' marginwidth='0'"</span>;
    html += <span class="java&#45;quote">"src='https://maps.google.com/maps?f=q&#38;amp;q="</span> + value + <span class="java&#45;quote">"&#38;amp;output=embed'&#62;&#60;/iframe&#62;"</span>;
    $(<span class="java&#45;keyword">this</span>).closest(<span class="java&#45;quote">".map&#45;widget"</span>).find(<span class="java&#45;quote">".map&#45;container"</span>).html(html);
&#125;);</pre></div><p class="paragraph"/><blockquote class="note">
NOTE: GrailsAdminPlugin uses jquery, so it is available for your custom widgets also
</blockquote>



<h1 id="roadmap">6 Roadmap</h1>
Next topics planned:
<ul class="star">
<li>Filters</li>
<li>Group of Properties</li>
<li>Widget multy property</li>
<li>Batch delete</li>
<li>Batch edit</li>
<li>1-n inline</li>
<li>1-1 inline</li>
<li>Preview media content Widget</li>
<li>Widget for properties in list view</li>
<li>Help texts associated with input fields</li>
<li>1-n 2 list of combos</li>
<li>1-n checkbox</li>
<li>Navigate throw relations window by windows</li>
<li>Themes</li>
<li>Content roles</li>
<li>History of changes (Auditory)</li>
<li>Overwrite CRUD methods</li>
<li>CRUD events</li>
<li>Inexistente fields</li>
<li>1-n-1 relations. Hide middle relationship class</li>
<li>New Button in 1-n</li>
</ul><p class="paragraph"/>


<h1 id="faq">7 FAQ</h1>
<h4>Why should I use this instead of "scaffolding"?</h4>
The scaffolding is better as a code-generation tool that "bootstrap" a new application with a base
application. The aim of the plugin is to provide a customizable backend to extend the administration.<p class="paragraph"/>We don't want to override scaffolding but to use this configuration-based alternative.<p class="paragraph"/>Also, this plugin has some other added features such as:
<ul class="star">
<li>Integrated with security</li>
<li>Configurables views</li>
<li>Integrates easily as a plugin</li>
</ul><p class="paragraph"/>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
